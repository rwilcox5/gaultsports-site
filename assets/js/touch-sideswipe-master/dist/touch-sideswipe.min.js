(function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=e():t.TouchSideSwipe=e()})(this,function(){var t=function(t){"use strict";function e(){k=!0,v=document.getElementById(W.elInitID),w=document.createElement("div"),b=document.createElement("div"),S=document.createElement("div"),S.innerHTML='<div class="tss-label_pic"></div>',g=document.createElement("div"),w.appendChild(b),b.appendChild(S),v.parentNode.insertBefore(w,v),b.appendChild(v),document.body.insertBefore(g,document.body.lastChild),w.classList="tss",b.classList="tss-wrap",S.classList="tss-label",g.classList="tss-bg",x=E>499?W.elSubmainWidth:E*W.elSubmainMaxWidth,b.style.width=x+"px",L=x+W.sideHookWidth,w.style.transitionDuration=W.moveSpeed+"s",g.style.transitionDuration=W.moveSpeed+"s",l()}function n(){y===!0&&l(),E=window.innerWidth,x=E>499?W.elSubmainWidth:E*W.elSubmainMaxWidth,L=x+W.sideHookWidth,b.style.width=x+"px",w.style.transform="translateX("+-x+"px)",w.style.width=L+"px"}function i(t){document.body.style.overflow="hidden",w.style.transitionDuration="0s",g.style.transitionDuration="0s",g.style.zIndex=999,f=w.getBoundingClientRect().left,h=t.changedTouches[0].clientX}function s(t){m=t.changedTouches[0].clientX;var e=m-(h-f);if(e<=0){h>x&&(e+=h-x),m<=x&&(w.style.transform="translateX("+e+"px)");var n=m/x;n>0&&n<1&&(n>=W.opacityBackground?g.style.opacity=W.opacityBackground:g.style.opacity=n)}}function o(t){var e=t.changedTouches[0].clientX;document.body.style.overflow="",w.style.transitionDuration=W.moveSpeed+"s",g.style.transitionDuration=W.moveSpeed+"s",!y&&e>h?Math.abs(h-e)>W.shiftForStart?r():l():y&&e<h&&e<=x&&(h>x&&e<x-W.shiftForStart||h<x&&Math.abs(h-e)>W.shiftForStart?l():r())}function d(t){t.stopPropagation(),y===!1?r():l()}function a(t){t.stopPropagation();var e=w.getBoundingClientRect().left;t.clientX>e+x&&l()}function r(){g.style.opacity=W.opacityBackground,w.style.width=E+"px",w.style.transform="translateX(0px)",w.classList.remove("tss--close"),w.classList.add("tss--open"),g.classList.remove("tss-bg--close"),g.classList.add("tss-bg--open"),g.style.zIndex="999",y=!0}function l(){document.body.style.overflow="",g.style.opacity=0,w.style.width=L+"px",w.style.transform="translateX("+-x+"px)",w.classList.remove("tss--open"),w.classList.add("tss--close"),g.classList.remove("tss-bg--open"),g.classList.add("tss-bg--close"),g.style.zIndex="-999",y=!1}function c(){void 0!=(w&&g)&&(w.parentNode.insertBefore(v,w),w.remove(),g.remove(),k=!1)}function u(t){E=window.innerWidth,E<1024&&!k?p():E>=1024&&k&&c()}function p(){E<1024&&!k&&(e(),window.addEventListener("resize",n,!1),w.addEventListener("touchstart",i,!1),w.addEventListener("touchmove",s,!1),w.addEventListener("touchend",o,!1),w.addEventListener("click",a,!1),S.addEventListener("click",d,!1)),window.addEventListener("resize",u,!1)}var h,m,y,f,v,w,b,S,g,x,L,W={elInitID:t.elementID||"touchSideSwipe",elSubmainWidth:t.elementWidth||400,elSubmainMaxWidth:t.elementMaxWidth||.8,sideHookWidth:t.sideHookWidth||44,moveSpeed:t.moveSpeed||.2,opacityBackground:t.opacityBackground||.8,shiftForStart:t.shiftForStart||50,windowMaxWidth:t.windowMaxWidth||1024},E=window.innerWidth,k=!1;p()};return t});